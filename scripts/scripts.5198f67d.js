"use strict";angular.module("customer2App",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/pontun/:pw",{templateUrl:"views/pontun.html",controller:"PontunCtrl",controllerAs:"pontun"}).otherwise({redirectTo:"/"})}]),angular.module("customer2App").controller("MainCtrl",["$scope","$location",function(a,b){a.pass="",a.fetchOrder=function(){b.path("/pontun/"+a.pass)}}]),angular.module("customer2App").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("customer2App").controller("PontunCtrl",["$scope","$routeParams","tsIspan",function(a,b,c){a.loading=!0,c.getOrder(b.pw).then(function(b){a.loading=!1,a.order=b,a.isDate=new Date(b.orderdate),console.log("then ...",b)},function(a){console.log("serice error",a)}),a.PageDate=new Date}]),angular.module("customer2App").service("tsIspan",["$http","$location",function(a,b){this.getOrder=function(c){return console.log("in a serv pwd is",c),a.get("https://ts.ispan.is:8443/pwds/search/findByPwd?pwd="+c).then(function(a){return console.log("success in service",a),angular.isUndefined(a.data._embedded)?(alert("Rangt lykilorð"),void b.path("/pontun")):a.data._embedded.pwds[0]},function(a){console.log("error",a)})}}]),angular.module("customer2App").filter("status",function(){return function(a,b,c,d){var e=b?b:0,f=a?a:0,g=c,h=d?d:0;return console.log("del-prod-opt-ord",e,f,g,h),e>0&&e==f?"list-group-item-danger":0==e&&f==h?"list-group-item-success":g?"list-group-item-warning":void 0}}),angular.module("customer2App").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="row marketing"> <div class="text-center"> <h3>Leita</h3> </div> <form name="Search" class="form-inline" role="form"> <div class="form-group"> <label>Lykilorð: </label> <input ng-maxlength="6" ng-minlength="6" type="text" class="form-control" ng-model="pass" placeholder="Slá inn 6 stafa lykilorð "> </div> <button ng-disabled="Search.$invalid || Search.$pristine" type="button" ng-click="fetchOrder()" class="btn btn-default"><b>Sækja upplýsingar</b> </button> </form> </div>'),a.put("views/pontun.html",'<div class="spinner" ng-show="loading"> </div> <div ng-hide="loading"> <div class="page-header" style="border-bottom: 4px solid #d8d9da"> <h4>{{order.name}}</h4> Pöntunarnúmer: <b>{{order.orderDetails[0].pontun}}</b> <br> Afhendingar staður: <b>{{order.delivaddress}}</b> <br> Pöntun. dag: <b>{{isDate | date:\'d.M.yyyy\'}}</b> <br> Staða pöntunar i dag: <b>{{PageDate |date: \'d.M.yyyy\'}}</b> </div> <div class="text-center"> <span class="label label-custom" style="border-style:  solid;border-width:  1px;color: #61605e">Pöntun móttekin</span> <span class="label list-group-item-warning">Í framleiðslu</span> <span class="label list-group-item-success">Tilbúin</span> <span class="label list-group-item-danger">Afhend</span> </div> <hr> <ul class="list-group" ng-repeat="detail in order.orderDetails"> <li class="list-group-item {{detail.totalProduced |status: detail.totalDelivered : detail.prodBatchN : detail.totalOrdered }}"> {{detail.unitType }} <br> Pantað: {{detail.totalOrdered}}Stk. Breidd: {{detail.width}} Hæð:  {{detail.hight}} <br> Famleitt: {{detail.totalProduced || "0"}} , Afhend: {{detail.totalDelivered ||"NEI"}} </li> </ul> </div>')}]);
